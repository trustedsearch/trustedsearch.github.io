<h1 id="toc_0">Receiving Location Updates</h1>

<p>A number of mechanisms are in place to allow a partner to receive the latest information about a location and its listings. Depending on the detail level requested, this call can include the full business data, the content of each directory listing associated with the account (e.g. data obtained directly from Google+, Bing Local, etc.), as well as the current fulfillment status.</p>

<h2 id="toc_1">Requesting an update about a specific location</h2>

<p>As this is a GET request, there is no entity or body associated with the call. All filtering is done in the query string parameters, but at the most basic level, a request to obtain details about a specific location would look like the following. Of course, all requests must be signed and authenticated. &quot;:uuid&quot; would be replaced by the location&#39;s UUID provided in the response of the /local-business call.</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">https://[api_endpoint]/v1/directory-listings/:uuid
</code></pre></div>
<h2 id="toc_2">Regular Polling for Updates</h2>

<p>There is also a mechanism to request changes since a given point in time. This would be useful if there was a recurring call set up to poll for changes. By recording the timestamp of the previous request, that same timestamp can be used as a &quot;since&quot; parameter to indicate that only changes made since that last time should be returned. The since time is exclusive, meaning that any changes made at that second are not included in the response.</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">https://[api_endpoint]/v1/directory-listings?since=1363385995
</code></pre></div>
<h2 id="toc_3">Update Pushes (Callbacks)</h2>

<p>The API response described below is also available via a callback method. By providing an endpoint at which to receive callback messages, the most up-to-date information about a location and its listings can be pushed to a partner&#39;s servers. Currently, data is aggregated every thirty minutes, and it is immediately following those aggregations that a callback would be fired.</p>

<p>If there have been no updates within a thirty minute window, no callback would be fired.</p>

<h2 id="toc_4">Pagination</h2>

<p>Due to the potential for large amounts of data, the detail level of /directory-listings without a UUID is set lower than that of /directory-listings/:uuid. When performing a non-UUID request for a large span of time (a &quot;since&quot; parameter far in the past), the response may be returned in a paged format, where subsequent pages would require a separate API call with a &quot;page&quot; parameter.</p>

<h3 id="toc_5">Response</h3>

<p>The entity or body of the response will contain a JSON object with details specific to the request.</p>

<p>For a /directory-listings?since=:timestamp request, a response might look like:</p>

<p><code>Status: 200 Success</code>
<code>{
  &quot;uuid&quot;:&quot;a043c791-72b2-4201-b19e-c6ca19a5108c&quot;,
  &quot;externalId&quot;:&quot;ABC2345&quot;,
  &quot;directories&quot;:{
     &quot;merchantcircle&quot;:{
        &quot;label&quot;:&quot;Merchant Circle&quot;,
        &quot;lastupdate&quot;:1363367153,
        &quot;status&quot;:20,
        &quot;description&quot;:&quot;Submitted and Published&quot;,
     &quot;listingUrl&quot;:&quot;http:\/\/www.merchantcircle.com\/business\/A.AAA.A1.Fast.Guaranteed.Appliance.Service.Scottsdale.AZ.480-991-1188&quot;,
        &quot;duplicateUrl&quot;:null,
        &quot;notes&quot;:[&quot;&quot;]
     },
     &quot;superpages&quot;:{
        &quot;label&quot;:&quot;Superpages&quot;,
        &quot;lastupdate&quot;:1363366882,
        &quot;status&quot;:30,
        &quot;description&quot;:&quot;Submitted and Awaiting Publishing&quot;,
        &quot;listingUrl&quot;:null,
        &quot;duplicateUrl&quot;:null,
        &quot;notes&quot;:[&quot;&quot;]
     }
  }
},
{
  &quot;uuid&quot;:&quot;f4c639dd-6331-46d1-9021-ccc2637e8cae&quot;,
  &quot;externalId&quot;:&quot;DEF12345&quot;,
  &quot;directories&quot;:{
     &quot;yelp&quot;:{
        &quot;label&quot;:&quot;Yelp&quot;,
        &quot;lastupdate&quot;:1363367118,
        &quot;status&quot;:31,
        &quot;description&quot;:&quot;Awaiting Phone Verification&quot;,
        &quot;listingUrl&quot;:null,
        &quot;duplicateUrl&quot;:null,
        &quot;notes&quot;:[&quot;&quot;]
     },
     &quot;yahoolocal&quot;:{
        &quot;label&quot;:&quot;Yahoo Local&quot;,
        &quot;lastupdate&quot;:1363367080,
        &quot;status&quot;:40,
        &quot;description&quot;:&quot;Claimed Listing&quot;,
        &quot;listingUrl&quot;:&quot;http:\/\/local.yahoo.com\/info-20078829-a-aaa-a1-fast-guaranteed-appliance-service-scottsdale&quot;,
        &quot;duplicateUrl&quot;:null,
        &quot;notes&quot;:[&quot;&quot;]
     }
  }
}</code></p>

<p>For a /directory-listings/:uuid request, a response might look like:
<code>Status: 200 Success</code>
<code>{
  &quot;uuid&quot;:&quot;1c9636cc-d2aa-4ea3-bd00-dd8bde98b520&quot;,
  &quot;externalId&quot;:&quot;ABC1234&quot;,
  &quot;business&quot;:{
     &quot;name&quot;:&quot;Provencal Construction&quot;,
     &quot;street&quot;:&quot;50 Burr Ridge Parkway&quot;,
     &quot;city&quot;:&quot;Burr Ridge&quot;,
     &quot;state&quot;:&quot;IL&quot;,
     &quot;postalCode&quot;:&quot;60527&quot;,
     &quot;phone&quot;:&quot;(630) 323-6768&quot;,
     &quot;website&quot;:{
        &quot;url&quot;:&quot;http:\/\/provencalconstruction.com&quot;,
        &quot;screenshot&quot;:&quot;http:\/\/clients.localsearchoptimization.com\/37b194e7c44f06c3ce61b7f5059d0a31\/screenshot\/baseline\/&quot;
     },
     &quot;slogan&quot;:&quot;There is no substitution for experience.&quot;,
     &quot;descriptionLong&quot;:&quot;Provencal construction is a highly experienced, award winning, owner operated construction firm. Provencal Construction is a general contractor and specializes in custom home design and building, room additions, custom cabinetry, light commercial construction and general construction. Provencal&#39;s offices and showroom is conveniently located in suburban Burr Ridge. The companies main officers are Harry Liesenfelt (president) and Mike Candela (vice president).&quot;,
     &quot;descriptionMedium&quot;:&quot;Provencal construction is a highly experienced, award winning, owner operated construction firm. Provencal Construction is a general contractor and specializes in custom home design.&quot;,
     &quot;descriptionShort&quot;:&quot;Provencal construction is a highly experienced, award winning, owner operated construction firm.&quot;,
     &quot;keywords&quot;:&quot;home builder, general contractor, custom home builder, commercial construction, remodeling, room additions, cabinetry, builder, home designer&quot;,
     &quot;category1&quot;:&quot;Home Builders&quot;,
     &quot;category2&quot;:&quot;Home Improvement &amp; Remodeling Services&quot;,
     &quot;category3&quot;:&quot;Architects &amp; Builders Service&quot;,
     &quot;hoursOfOperation&quot;:&quot;Monday - Saturday 8:00am - 5:00pm&quot;,
     &quot;productsOffered&quot;:&quot;Residential and commercial construction including custom homes, light commercial, remodeling, renovations, design, and all forms of general construction.&quot;,
     &quot;paymentMethods&quot;:[
        &quot;Cash&quot;,
        &quot;Check&quot;,
        &quot;Debit&quot;,
        &quot;MasterCard&quot;,
        &quot;VISA&quot;,
        &quot;Discover&quot;,
        &quot;AmEx&quot;
     ],
     &quot;yearEstablished&quot;:&quot;1956&quot;,
     &quot;numberEmployees&quot;:&quot;varies&quot;,
     &quot;languagesSpoken&quot;:&quot;English&quot;,
     &quot;logoUrl&quot;:&quot;http:\/\/clientimages.democompanydomain.com\/101478_51129a78d3e4d_.jpg&quot;,
     &quot;imageUrl&quot;:[
        &quot;http:\/\/clientimages.democompanydomain.com\/101478_51129a7abb80c_1.jpg&quot;,
        &quot;http:\/\/clientimages.democompanydomain.com\/101478_51129a7b21121_2.jpg&quot;,
        &quot;http:\/\/clientimages.democompanydomain.com\/101478_51129a7bafeee_3.jpg&quot;,
        &quot;http:\/\/clientimages.democompanydomain.com\/101478_51129a7c55f0b_4.jpg&quot;,
        &quot;http:\/\/clientimages.democompanydomain.com\/101478_51129a7ca6bc2_5.jpg&quot;
     ],
     &quot;videoUrl&quot;:&quot;http:\/\/www.youtube.com\/watch?v=_la6watqZLw&quot;,
     &quot;phoneTracking&quot;:[&quot;&quot;],
     &quot;coordinates&quot;:{
        &quot;latitude&quot;:41.7505743,
        &quot;longitude&quot;:-87.9141345
     }
  },
  &quot;received&quot;:1360144915,
  &quot;updated&quot;:1363307015,
  &quot;contact&quot;:{
     &quot;firstName&quot;:&quot;Jill&quot;,
     &quot;lastName&quot;:&quot;Underwood&quot;,
     &quot;email&quot;:&quot;jill@webdesignfirmabc.com&quot;,
     &quot;phone&quot;:&quot;(702) 555-3279&quot;
  },
  &quot;directories&quot;:{
     &quot;googleplus&quot;:{
        &quot;label&quot;:&quot;Google Plus&quot;,
        &quot;lastupdate&quot;:1360803310,
        &quot;status&quot;:40,
        &quot;description&quot;:&quot;Claimed Listing&quot;,
        &quot;listingUrl&quot;:&quot;https:\/\/plus.google.com\/114128866452346403133\/about?gl=us&amp;hl=en&quot;,
        &quot;notes&quot;:[&quot;&quot;],
        &quot;log&quot;:{
           &quot;1360803310&quot;:&quot;Listing Claimed\/Published&quot;
        },
        &quot;listing&quot;:{
           &quot;foreign_key&quot;:&quot;&quot;,
           &quot;name&quot;:&quot;Provencal Construction&quot;,
           &quot;street&quot;:&quot;50 Burr Ridge Parkway&quot;,
           &quot;city&quot;:&quot;Burr Ridge&quot;,
           &quot;state&quot;:&quot;IL&quot;,
           &quot;postal_code&quot;:&quot;60527&quot;,
           &quot;country&quot;:&quot;&quot;,
           &quot;country_iso_code&quot;:&quot;&quot;,
           &quot;local_phone&quot;:&quot;6302530622&quot;,
           &quot;toll_free_phone&quot;:&quot;&quot;,
           &quot;fax&quot;:&quot;&quot;,
           &quot;website&quot;:&quot;http:\/\/www.provencalconstruction.com\/&quot;,
           &quot;email&quot;:&quot;&quot;,
           &quot;slogan&quot;:&quot;&quot;,
           &quot;long_description&quot;:&quot;&quot;,
           &quot;short_description&quot;:&quot;&quot;,
           &quot;keywords&quot;:[
              &quot;establishment&quot;
           ],
           &quot;payment_methods&quot;:[],
           &quot;year_established&quot;:0,
           &quot;number_of_employees&quot;:0,
           &quot;products_offered&quot;:[],
           &quot;languages_spoken&quot;:[],
           &quot;hours_of_operation&quot;:{
              &quot;mon&quot;:{
                 &quot;open&quot;:true,
                 &quot;openingTime&quot;:&quot;0800&quot;,
                 &quot;closingTime&quot;:&quot;1700&quot;
              },
              &quot;tue&quot;:{
                 &quot;open&quot;:true,
                 &quot;openingTime&quot;:&quot;0800&quot;,
                 &quot;closingTime&quot;:&quot;1700&quot;
              },
              &quot;wed&quot;:{
                 &quot;open&quot;:true,
                 &quot;openingTime&quot;:&quot;0800&quot;,
                 &quot;closingTime&quot;:&quot;1700&quot;
              },
              &quot;thu&quot;:{
                 &quot;open&quot;:true,
                 &quot;openingTime&quot;:&quot;0800&quot;,
                 &quot;closingTime&quot;:&quot;1700&quot;
              },
              &quot;fri&quot;:{
                 &quot;open&quot;:true,
                 &quot;openingTime&quot;:&quot;0800&quot;,
                 &quot;closingTime&quot;:&quot;1700&quot;
              },
              &quot;sat&quot;:{
                 &quot;open&quot;:true,
                 &quot;openingTime&quot;:&quot;0800&quot;,
                 &quot;closingTime&quot;:&quot;1700&quot;
              }
           },
           &quot;logo_url&quot;:&quot;&quot;,
           &quot;square_logo_url&quot;:&quot;&quot;,
           &quot;image_urls&quot;:[],
           &quot;video_urls&quot;:[],
        },
        &quot;verificationMethod&quot;:&quot;phone&quot;
     },...
  }
}
</code></p>
