<h2 id="toc_0">Submitting a Location</h2>

<p>Submitting a location is the equivalent of placing an order. The API request contains the information about the business (name, address, phone number, description, hours of operation, etc.), the primary contact for the location (unpublished), the directories/packages to be fulfilled, some white-labelling options, and an optional user account to associate with the location for dashboard access.</p>

<h2 id="toc_1">External ID</h2>

<p>We provide a pass-through parameter for partners to specify their unique ID for each client. This external ID will be passed back in all API-based communcations about a business. The use of an external ID is required, and must be unique within the partner&#39;s account.</p>

<h2 id="toc_2">Universally Unique Identifier (UUID)</h2>

<p>All businesses are identified by a UUID (defined in <a href="http://www.ietf.org/rfc/rfc4122.txt">RFC 4122</a>). A UUID will be created for each location received and passed back in the response. An example of a UUID is: 94c459ea-7064-4ff0-8da1-43b669bf62f6.</p>

<h2 id="toc_3">Phone Verification and &quot;On Behalf Of&quot;</h2>

<p>For Business Listings Management, there are a number of directories that require phone verification in order for a listing to publish and become owner-verified. To complete this verification process, a phone verification specialist (PVS) will trigger telephone calls to the business location phone number. That phone call (typically a robo-call) will either provide or ask for a PIN. In the event that a PIN is provided to the business, that PIN must be relayed back to the PVS; in the event a PIN is requested, that PIN will be given by the PVS.</p>

<p>To facilitate this, A PVS must be on a phone call or an online chat with the business (typically through <a href="http://verifymylistings.com">http://verifymylistings.com</a>), and when we make initial contact, we provide the option to our partners to request that we call &quot;on behalf of&quot; them. The text provided in this field will be used verbatim in any communication with the client to maintain a white-labelled experience. Any online interaction (email, website) will be conducted in a similar manner.</p>

<h2 id="toc_4">Packages and Directories</h2>

<p>Depending upon your partner relationship, either the <code>packages</code> or <code>directories</code> nodes will be used within <code>order</code>. If the partner agreement was based around one or more packages, those IDs will be provided to you; for those with directory-based relationships, a list of available directories will be provided to you prior to integration.</p>

<p>Only one of <code>packages</code> or <code>directories</code> may be specified within a request.</p>

<h2 id="toc_5">Updating Business Data</h2>

<p>When sending updated business data (after the initial submission), essentially the same request can be triggered with any number of data fields provided. In other words, if there is only a change to the business&#39; phone number, a request may be made that only includes the phone number; all other data will remain untouched.</p>

<p>Please note that any content within the <code>order</code> or <code>user</code> blocks (detailed below) will be ignored in reubsmissions.</p>

<h3 id="toc_6">Request</h3>

<h4 id="toc_7">Request Data Format</h4>

<p>When preparing to submit business information to the API server, data must be packaged into JSON objects and organized in the following way. There are three main sections of data:
business: all details about the business location, as well as related meta data.
order: details about the services being requested (generally a list of product or package skus).
contact: unpublished data about the primary contact at the location, typically so that we know who to ask for when performing phone verification.</p>

<p>It is possible to submit multiple businesses within one call. Simply comma-separate individual location entries.</p>

<h4 id="toc_8">Fields</h4>

<h4 id="toc_9">Top Level</h4>

<table><thead>
<tr>
<th>field</th>
<th align="center">type( length )</th>
<th align="center">required</th>
<th align="center">options</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>externalId</td>
<td align="center">string</td>
<td align="center">*</td>
<td align="center">-</td>
<td>A unique identifier to be used by developers to keep track of their own locations.</td>
</tr>
<tr>
<td>order</td>
<td align="center">object</td>
<td align="center">*</td>
<td align="center">-</td>
<td>The details about which types of products or packages the developer wants applied to the locations in this order.</td>
</tr>
<tr>
<td>contact</td>
<td align="center">object</td>
<td align="center">*</td>
<td align="center">-</td>
<td>The listing status of this listing</td>
</tr>
<tr>
<td>url</td>
<td align="center">varchar</td>
<td align="center"></td>
<td align="center">-</td>
<td>Listing url</td>
</tr>
<tr>
<td>duplicate_url</td>
<td align="center">text</td>
<td align="center"></td>
<td align="center">-</td>
<td>Any duplicate urls, comma delimited</td>
</tr>
<tr>
<td>username</td>
<td align="center">varchar</td>
<td align="center"></td>
<td align="center">-</td>
<td>For login to this listing</td>
</tr>
<tr>
<td>password</td>
<td align="center">varchar</td>
<td align="center"></td>
<td align="center">-</td>
<td>For login to this listing</td>
</tr>
<tr>
<td>verification</td>
<td align="center">enum</td>
<td align="center"></td>
<td align="center">-</td>
<td>Verification type</td>
</tr>
<tr>
<td>created_at</td>
<td align="center">timestamp</td>
<td align="center">*</td>
<td align="center">-</td>
<td>automatic</td>
</tr>
<tr>
<td>updated_at</td>
<td align="center">timestamp</td>
<td align="center">*</td>
<td align="center">-</td>
<td>automatic</td>
</tr>
<tr>
<td>deleted_at</td>
<td align="center">timestamp</td>
<td align="center"></td>
<td align="center">-</td>
<td>only if deleted</td>
</tr>
</tbody></table>

<h4 id="toc_10">order object</h4>

<table><thead>
<tr>
<th>field</th>
<th align="center">type( length )</th>
<th align="center">required</th>
<th align="center">options</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>onBehalfOf</td>
<td align="center">string</td>
<td align="center">-</td>
<td align="center">-</td>
<td>Name of Partner for whome this order is being placed on behalf of.</td>
</tr>
<tr>
<td>packages</td>
<td align="center">array</td>
<td align="center">-</td>
<td align="center">-</td>
<td>Array of string names representing packages available to developer. These will be custom provided by sales rep.</td>
</tr>
<tr>
<td>products</td>
<td align="center">array</td>
<td align="center">-</td>
<td align="center">-</td>
<td>Array of string names representing products available to developer. These will be custom provided by sales rep.</td>
</tr>
</tbody></table>

<h4 id="toc_11">contact object</h4>

<table><thead>
<tr>
<th>field</th>
<th align="center">type( length )</th>
<th align="center">required</th>
<th align="center">options</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>firstName</td>
<td align="center">string</td>
<td align="center">*</td>
<td align="center">-</td>
<td>First name of person trustedsearch should contact for non public issues.</td>
</tr>
<tr>
<td>lastName</td>
<td align="center">string</td>
<td align="center">*</td>
<td align="center">-</td>
<td>Last name of person trustedsearch should contact for non public issues.</td>
</tr>
<tr>
<td>email</td>
<td align="center">string</td>
<td align="center">*</td>
<td align="center">-</td>
<td>Email of person trustedsearch should contact for non public issues.</td>
</tr>
<tr>
<td>phone</td>
<td align="center">string</td>
<td align="center">*</td>
<td align="center">-</td>
<td>Phone number of person trustedsearch should contact for non public issues.</td>
</tr>
</tbody></table>

<h4 id="toc_12">business object</h4>

<table><thead>
<tr>
<th>field</th>
<th align="center">type( length )</th>
<th align="center">required</th>
<th align="center">options</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td align="center">string</td>
<td align="center">*</td>
<td align="center">-</td>
<td>First name of person trustedsearch should contact for non public issues.</td>
</tr>
<tr>
<td>street</td>
<td align="center">string</td>
<td align="center">*</td>
<td align="center">-</td>
<td>Last name of person trustedsearch should contact for non public issues.</td>
</tr>
<tr>
<td>city</td>
<td align="center">string</td>
<td align="center">*</td>
<td align="center">-</td>
<td>Email of person trustedsearch should contact for non public issues.</td>
</tr>
<tr>
<td>state</td>
<td align="center">string(2)</td>
<td align="center">*</td>
<td align="center">-</td>
<td>State abbreviation uppercased.</td>
</tr>
<tr>
<td>postalCode</td>
<td align="center">string</td>
<td align="center">*</td>
<td align="center">-</td>
<td>5 digit postal code</td>
</tr>
<tr>
<td>phoneLocal</td>
<td align="center">string</td>
<td align="center">*</td>
<td align="center">-</td>
<td>Local phone number. Format: (555) 555-5555</td>
</tr>
<tr>
<td>phoneTollFree</td>
<td align="center">string</td>
<td align="center">-</td>
<td align="center">-</td>
<td>Toll Free phone number. Format: (800) 555-5555</td>
</tr>
<tr>
<td>fax</td>
<td align="center">string</td>
<td align="center">-</td>
<td align="center">-</td>
<td>Fax number</td>
</tr>
<tr>
<td>website</td>
<td align="center">string</td>
<td align="center">*</td>
<td align="center">-</td>
<td>Well formed url of the company. ex: <a href="http://www.trustedsearch.org">http://www.trustedsearch.org</a></td>
</tr>
<tr>
<td>email</td>
<td align="center">string</td>
<td align="center">-</td>
<td align="center">-</td>
<td>Published contact email address. ex: <a href="mailto:info@yoursitehere.com">info@yoursitehere.com</a></td>
</tr>
<tr>
<td>slogan</td>
<td align="center">string</td>
<td align="center">-</td>
<td align="center">-</td>
<td>&quot;A diamond is forever.&quot;</td>
</tr>
<tr>
<td>descriptionLong</td>
<td align="center">string</td>
<td align="center">-</td>
<td align="center">-</td>
<td>A long description describing the business.</td>
</tr>
<tr>
<td>descriptionShort</td>
<td align="center">string</td>
<td align="center">-</td>
<td align="center">-</td>
<td>A shorter description of the business.</td>
</tr>
<tr>
<td>keywords</td>
<td align="center">string</td>
<td align="center">-</td>
<td align="center">-</td>
<td>comma separated list of keywords that should be assigned to business for SEO purposes.</td>
</tr>
<tr>
<td>paymentMethods</td>
<td align="center">array</td>
<td align="center">-</td>
<td align="center">-</td>
<td>Array of options business supports. Options : &quot;mastercard&quot;, &quot;visa&quot;, &quot;discover&quot;, &quot;amex&quot;, &quot;check&quot;, &quot;cash&quot;</td>
</tr>
<tr>
<td>yearEstablish</td>
<td align="center">string(4)</td>
<td align="center">-</td>
<td align="center">-</td>
<td>Year business was established.</td>
</tr>
<tr>
<td>numberEmployees</td>
<td align="center">int</td>
<td align="center">-</td>
<td align="center">-</td>
<td>Number of employees.</td>
</tr>
<tr>
<td>productsOffered</td>
<td align="center">string</td>
<td align="center">-</td>
<td align="center">-</td>
<td>Comma separated list of products offered.</td>
</tr>
<tr>
<td>languagesSpoken</td>
<td align="center">string</td>
<td align="center">-</td>
<td align="center">-</td>
<td>Comma separated list of languages spoken.</td>
</tr>
<tr>
<td>hoursOfOperation</td>
<td align="center">string</td>
<td align="center">-</td>
<td align="center">-</td>
<td>YellowPages standards for hours of operation.</td>
</tr>
<tr>
<td>logoUrl</td>
<td align="center">string</td>
<td align="center">-</td>
<td align="center">-</td>
<td>Well formed url of business logo.</td>
</tr>
<tr>
<td>logoSquaredUrl</td>
<td align="center">string</td>
<td align="center">-</td>
<td align="center">-</td>
<td>Well formed url for a square version of your business logo. Ideally 640px. We will scale it up so make it good quality.</td>
</tr>
<tr>
<td>imageUrl</td>
<td align="center">array(5)</td>
<td align="center">-</td>
<td align="center">-</td>
<td>Well formed array of images.</td>
</tr>
<tr>
<td>videoUrl</td>
<td align="center">string</td>
<td align="center">-</td>
<td align="center">-</td>
<td>A youtube.com video url. ex: <a href="http://www.youtube.com/watch?v=VIrBecB746c">http://www.youtube.com/watch?v=VIrBecB746c</a></td>
</tr>
</tbody></table>

<p>Requests should be made with the POST method to <code>https://[api_endpoint]/v1/local-business</code>.</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">[
   {
      &quot;externalId&quot;:&quot;ABC12345678&quot;,
      &quot;order&quot;:{
         &quot;onBehalfOf&quot;:&quot;Partner ABC&quot;,
         &quot;packages&quot;:[
            &quot;see note above&quot;
         ],
         &quot;directories&quot;:[
            &quot;see note above&quot;
         ]
      },
      &quot;contact&quot;:{
         &quot;firstName&quot;:&quot;Bob&quot;,
         &quot;lastName&quot;:&quot;Jones&quot;,
         &quot;email&quot;:&quot;bob@domain.com&quot;,
         &quot;phone&quot;:&quot;8005551234&quot;
      },
      &quot;business&quot;:{
         &quot;name&quot;:&quot;Bob&#39;s Fish Tacos&quot;,
         &quot;street&quot;:&quot;247 Ocean Way&quot;,
         &quot;city&quot;:&quot;San Luis Obispo&quot;,
         &quot;state&quot;:&quot;CA&quot;,
         &quot;postalCode&quot;:&quot;93401&quot;,
         &quot;phoneLocal&quot;:&quot;(805) 555-9876&quot;,
         &quot;phoneTollFree&quot;:&quot;(800) 555-4567&quot;,
         &quot;fax&quot;:&quot;(805) 555-0142&quot;,
         &quot;website&quot;:&quot;http://www.bobsfishtacos.com&quot;,
         &quot;email&quot;:&quot;greatfood@bobsfishtacos.com&quot;,
         &quot;slogan&quot;:&quot;The freshest Mexican food you&#39;ll ever eat.&quot;,
         &quot;descriptionLong&quot;:&quot;A really long description (maximum 1000 characters)&quot;,
         &quot;descriptionMedium&quot;:A description that is no longer than 200 characters.&quot;,
         &quot;descriptionShort&quot;:&quot;A description that is no longer than 140 characters.&quot;,
         &quot;keywords&quot;:&quot;fish taco, mexican food, salsa&quot;,
         &quot;paymentMethods&quot;:[
            &quot;mastercard&quot;,
            &quot;visa&quot;,
            &quot;discover&quot;,
            &quot;amex&quot;,
            &quot;check&quot;,
            &quot;cash&quot;
         ],
         &quot;yearEstablished&quot;:&quot;2011&quot;,
         &quot;numberEmployees&quot;:&quot;7&quot;,
         &quot;productsOffered&quot;:&quot;mexican food, fish tacos&quot;,
         &quot;languagesSpoken&quot;:&quot;english, spanish&quot;,
         &quot;hoursOfOperation&quot;:&quot;MF08001700H&quot;,
         &quot;logoUrl&quot;:&quot;http://www.bobsfishtacos.com/logo.jpg&quot;,
         &quot;logoSquareUrl&quot;:&quot;http://www.bobsfishtacos.com/logo.jpg&quot;,
         &quot;imageUrl&quot;:[
            &quot;http://images.bobsfishtacos.com/100702_5009d194859.jpg&quot;,
            &quot;http://images.bobsfishtacos.com/100702_5009d195016.jpg&quot;,
            &quot;http://images.bobsfishtacos.com/100702_5009d19577a.jpg&quot;,
            &quot;http://images.bobsfishtacos.com/100702_5009ccdf005.jpg&quot;,
            &quot;http://images.bobsfishtacos.com/100702_5009ccdf4d0.jpg&quot;
         ],
         &quot;videoUrl&quot;:[
            &quot;http://www.youtube.com/watch?v=cXuTiAHdxTg&quot;
         ]
      }
   },{...}
]
</code></pre></div>
<h3 id="toc_13">Response</h3>

<p>Sends back a collection of things.</p>

<p><code>Status: 200 OK</code>
<code>[
   {
      &quot;externalId&quot;:&quot;ABC12345678&quot;,
      &quot;uuid&quot;:&quot;94c459ea-7064-4ff0-8da1-43b669bf62f6&quot;,
      &quot;status&quot;:201
   },...
]</code></p>

<h3 id="toc_14">status codes and their meanings</h3>

<p>The status will indicate the success of that particular location:</p>

<ul>
<li>200 indicates general success</li>
<li>201 indicates that a new business was created</li>
<li>202 indicates that the data was received and enqueued (but not yet processed). No further action is needed.</li>
<li>400 indicates an error in the request</li>
<li>401 indicates an authentication error</li>
</ul>
